# Poker Bot Tester

Безопасный инструмент для тестирования покерных столов без перегрузки браузера.

## Требования

- Node.js 18+
- npm или yarn

## Установка

```bash
cd scripts
npm install ws typescript ts-node @types/ws @types/node
```

## Использование

```bash
# Запуск с 3 ботами (по умолчанию)
npx ts-node poker-bot-tester.ts <table-id>

# Запуск с указанным количеством ботов
npx ts-node poker-bot-tester.ts <table-id> 5
```

## Пример

```bash
npx ts-node poker-bot-tester.ts 24fa3090-44dd-44d4-ac17-976be0212ca9 3
```

## Важные особенности

1. **Используются прямые Supabase URL** - боты не нагружают прокси
2. **Задержка между подключениями** - 3 секунды между ботами
3. **Максимум 5 ботов** - защита от перегрузки
4. **Graceful shutdown** - Ctrl+C корректно отключает всех ботов

## Логика ботов

Простая тестовая стратегия:
- 70% - Call/Check
- 20% - Raise (x2 текущей ставки)
- 10% - Fold

## Безопасность

- Боты используют временные ID (`bot-<timestamp>-<index>`)
- Автоматически отключаются при завершении скрипта
- Не влияют на реальных игроков

## Устранение неполадок

### Ошибка "Connection timeout"
- Проверьте доступность сервера: `wss://poker.syndicate-poker.ru`
- Убедитесь, что table-id корректный

### Ошибка "WebSocket is not open"
- Сервер мог разорвать соединение
- Попробуйте уменьшить количество ботов

### 503 ошибки
- Сервер перегружен
- Подождите 1-2 минуты и попробуйте снова
